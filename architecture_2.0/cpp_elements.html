
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>② C++ elements &#8212; Intel® Deep Learning Streamer (Intel® DL Streamer)  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/doxyrest-pygments.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../_static/target-highlight.js"></script>
    <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="③ GStreamer Elements" href="gstreamer_elements.html" />
    <link rel="prev" title="① Memory Interop and C++ abstract interfaces" href="cpp_interfaces.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Intel® Deep Learning Streamer (Intel® DL Streamer)  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../get_started/get_started_index.html">
   Get Started
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../get_started/hardware_requirements.html">
     Hardware Requirements
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../get_started/install/install_guide_index.html">
     Install Guide
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../get_started/install/install_guide_ubuntu.html">
       Install Guide Ubuntu
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../get_started/install/uninstall_guide_ubuntu.html">
       Uninstall Guide Ubuntu
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../get_started/tutorial.html">
     Tutorial
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../get_started/flex_series/quick_start_guide.html">
     Quick Start Guide for Media Analytics on Intel® Data Center GPU Flex Series
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference external" href="https://github.com/dlstreamer/dlstreamer/blob/master/samples/gstreamer/README.md">
     Samples
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../dev_guide/dev_guide_index.html">
   Developer Guide
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/metadata.html">
     Metadata
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../dev_guide/model_preparation.html">
     Model Preparation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../dev_guide/yolov5_model_preparation.html">
       Yolov5 Model Preparation Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/model_proc_file.html">
     Model-proc File
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/how_to_create_model_proc_file.html">
     How to Create Model-proc File
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/python_bindings.html">
     Python Bindings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/custom_processing.html">
     Custom Processing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/object_tracking.html">
     Object Tracking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/gpu_device_selection.html">
     GPU device selection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/profiling.html">
     Profiling with Intel VTune™
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../dev_guide/converting_deepstream_to_dlstreamer.html">
     Converting NVIDIA DeepStream Pipelines to Intel® Deep Learning Streamer (Intel® DL Streamer) Pipeline Framework
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../dev_guide/how_to_contribute.html">
     How to Contribute
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../dev_guide/coding_style.html">
       Coding Style
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../elements/elements.html">
   Elements
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvadetect.html">
     gvadetect
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvaclassify.html">
     gvaclassify
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvainference.html">
     gvainference
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvaaudiodetect.html">
     gvaaudiodetect
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvatrack.html">
     gvatrack
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvametaconvert.html">
     gvametaconvert
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvametapublish.html">
     gvametapublish
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvametaaggregate.html">
     gvametaaggregate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvapython.html">
     gvapython
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvawatermark.html">
     gvawatermark
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../elements/gvafpscounter.html">
     gvafpscounter
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../supported_models.html">
   Supported Models
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api_ref/api_reference.html">
   API Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api_ref/page_index.html">
     Intel® Deep Learning Streamer (Intel® DL Streamer) API reference
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../api_ref/global.html">
     Global Namespace
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../api_ref/namespace_GVA.html">
       namespace GVA
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/struct_GVA_Rect.html">
         template struct GVA::Rect
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/struct_GVA_Segment.html">
         template struct GVA::Segment
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/class_GVA_AudioEvent.html">
         class GVA::AudioEvent
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/class_GVA_AudioFrame.html">
         class GVA::AudioFrame
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/class_GVA_RegionOfInterest.html">
         class GVA::RegionOfInterest
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/class_GVA_Tensor.html">
         class GVA::Tensor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/class_GVA_VideoFrame.html">
         class GVA::VideoFrame
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../api_ref/namespace_gstgva.html">
       namespace gstgva
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/namespace_gstgva_region_of_interest.html">
         namespace gstgva::region_of_interest
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/namespace_gstgva_tensor.html">
         namespace gstgva::tensor
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api_ref/namespace_gstgva_video_frame.html">
         namespace gstgva::video_frame
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api_ref/enum_GVALayout.html">
       enum GVALayout
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api_ref/enum_GVAPrecision.html">
       enum GVAPrecision
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../api_ref/struct_GstGVAAudioEventMeta.html">
       struct GstGVAAudioEventMeta
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="simple">
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../api_ref/struct__GstGVAJSONMeta.html">
       struct _GstGVAJSONMeta
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="simple">
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../api_ref/struct__GstGVATensorMeta.html">
       struct _GstGVATensorMeta
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
      <label for="toctree-checkbox-13">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="simple">
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="architecture_2.0.html">
   Architecture 2.0 [Preview]
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="migration_guide.html">
     Migration to 2.0
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cpp_interfaces.html">
     ① Memory Interop and C++ abstract interfaces
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     ② C++ elements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="gstreamer_elements.html">
     ③ GStreamer Elements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="gstreamer_bins.html">
     ③ GStreamer Bin Elements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="python_bindings.html">
     ③ Python Bindings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pytorch_inference.html">
     PyTorch tensor inference [Preview]
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="elements_list.html">
     Elements 2.0
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="packaging.html">
     Packaging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="samples_2.0.html">
     Samples 2.0
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api_ref/index.html">
     API 2.0 Reference
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api_ref/global.html">
       Global Namespace
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
      <label for="toctree-checkbox-16">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api_ref/namespace_dlstreamer.html">
         namespace dlstreamer
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api_ref/enum_GVALayout.html">
         enum GVALayout
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api_ref/enum_GVAPrecision.html">
         enum GVAPrecision
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api_ref/struct_GstGVAAudioEventMeta.html">
         struct GstGVAAudioEventMeta
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api_ref/struct__GstGVAJSONMeta.html">
         struct _GstGVAJSONMeta
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api_ref/struct__GstGVATensorMeta.html">
         struct _GstGVATensorMeta
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/architecture_2.0/cpp_elements.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#element-description">
   Element description
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-create-instance-of-c-element">
   How to create instance of C++ element
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>② C++ elements</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#element-description">
   Element description
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-create-instance-of-c-element">
   How to create instance of C++ element
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="c-elements">
<h1>② C++ elements<a class="headerlink" href="#c-elements" title="Permalink to this headline">#</a></h1>
<p>Intel® DL Streamer C++ interface allows to develop new functional blocks (source, transform and sink elements) with minimal effort.
The interface does not use any of GStreamer types, so elements/blocks written in this interface can be used in both
GStreamer-based and non-GStreamer applications.</p>
<p>The C++ elements implementation typically inherit one of base classes which partially implement some functions in corresponding abstract interfaces:</p>
<ul class="simple">
<li><p><a class="reference external" href="api_ref/class_dlstreamer_BaseSource">BaseSource</a> partially implements <a class="reference external" href="api_ref/class_dlstreamer_Source">Source</a></p></li>
<li><p><a class="reference external" href="api_ref/class_dlstreamer_BaseTransform">BaseTransform</a> partially implements <a class="reference external" href="api_ref/class_dlstreamer_Transform">Transform</a></p></li>
<li><p><a class="reference external" href="api_ref/class_dlstreamer_BaseTransformInplace">BaseTransformInplace</a> partially implements <a class="reference external" href="api_ref/class_dlstreamer_Transform">Transform</a></p></li>
<li><p><a class="reference external" href="api_ref/class_dlstreamer_BaseSink">BaseSink</a> partially implements <a class="reference external" href="api_ref/class_dlstreamer_Sink">Sink</a></p></li>
</ul>
<p>so that C++ element implements only remaining virtual functions (mostly <code class="docutils literal notranslate"><span class="pre">read</span></code>, <code class="docutils literal notranslate"><span class="pre">process</span></code> and <code class="docutils literal notranslate"><span class="pre">write</span></code> functions) as shown in diagram below</p>
<figure class="align-default" id="id1">
<div class="graphviz"><img src="../_images/graphviz-15e3f6e01bf35acd6f8530399b7a97d7bfeadb7a.png" alt="digraph {
  node[shape=record,style=filled,fillcolor=lightskyblue1]
  edge[dir=back, arrowtail=empty]

  Desc[label = &quot;{ElementDesc|+name\l+description\l+author\l+params\l+input_info\l+output_info\l+flags\l+create\l}&quot;]
  Element[label = &quot;{«interface»\nElement|+ init()\l+ get_context(...)\l}&quot;]

  Source[label = &quot;{«interface»\Source|+ set_output_info(...)\l+ get_output_info(...)\l+ read()\l}&quot;]
  Transform[label = &quot;{«interface»\nTransform|+ set_input_info(...)\l+ set_output_info(...)\l+ get_input_info(...)\l+ get_output_info(...)\l+ process(TensorPtr, TensorPtr)\l+ process(FramePtr, FramePtr)\l}&quot;]
  TransformInplace[label = &quot;{«interface»\nTransformInplace|+ set_info(const FrameInfo&amp;)\l+ process(TensorPtr)\l+ process(FramePtr)\l}&quot;]
  Sink[label = &quot;{«interface»\Sink|+ set_input_info(...)\l+ get_input_info(...)\l+ write(FramePtr)\l}&quot;]

  BaseESource[label = &quot;{BaseElement\&lt;Source\&gt;|+ init_once()\l+ init()\l+ get_context(...)\l}&quot;]
  BaseT1[label = &quot;{BaseElement\&lt;Transform\&gt;|+ init_once()\l+ init()\l+ get_context(...)\l}&quot;]
  BaseT2[label = &quot;{BaseElement\&lt;TransformInplace\&gt;|+ init_once()\l+ init()\l+ get_context(...)\l}&quot;]
  BaseESink[label = &quot;{BaseElement\&lt;Sink\&gt;|+ init_once()\l+ init()\l+ get_context(...)\l}&quot;]

  BaseSource[label = &quot;BaseSource&quot;]
  BaseTransform[label = &quot;BaseTransform&quot;]
  BaseInplace[label = &quot;BaseTransformInplace&quot;]
  BaseSink[label = &quot;BaseSink&quot;]

  Element-&gt;{Source Transform TransformInplace Sink}

  Source-&gt;BaseESource
  Transform-&gt;BaseT1
  TransformInplace-&gt;BaseT2
  Sink-&gt;BaseESink

  BaseESource-&gt;BaseSource
  BaseT1-&gt;BaseTransform
  BaseT2-&gt;BaseInplace
  BaseESink-&gt;BaseSink
}" class="graphviz" /></div>
<figcaption>
<p><span class="caption-text">C++ interfaces and base classes</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Many examples how to create C++ elements can be found on github repository in
<a class="reference external" href="https://github.com/dlstreamer/dlstreamer/tree/master/src">folder src</a> and sub-folders.</p>
<section id="element-description">
<h2>Element description<a class="headerlink" href="#element-description" title="Permalink to this headline">#</a></h2>
<p>The <a class="reference external" href="api_ref/struct_dlstreamer_ElementDesc">ElementDesc</a> structure is used to describe an element
input/output capabilities and supported parameters, and provide instance creation function.
The most important are the following fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> – Name of element. Same name is used for both GStreamer and direct programming applications.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code> – Array of parameters supported by element. In case of GStreamer, those will be translated to GStreamer properties.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input_info</span></code> – Types of input <cite>Frames</cite> that element can consume. In case of GStreamer interop, it will be represented as sink capabilities.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_info</span></code> – Types of output <cite>Frames</cite> that element can produse. In case of GStreamer interop, it will be represented as source (src) capabilities.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create</span></code> – Pointer to a function that creates an instance of an element.</p></li>
</ul>
<p>Here’s example of <a class="reference external" href="api_ref/struct_dlstreamer_ElementDesc">ElementDesc</a> structure for simple post-processing element:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Element parameters</span>
<span class="n">ParamDescVector</span> <span class="n">params_desc</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">{</span><span class="s">&quot;method&quot;</span><span class="p">,</span> <span class="s">&quot;Method used to post-process tensor data&quot;</span><span class="p">,</span> <span class="s">&quot;max&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;max&quot;</span><span class="p">,</span> <span class="s">&quot;softmax&quot;</span><span class="p">,</span> <span class="s">&quot;compound&quot;</span><span class="p">,</span> <span class="s">&quot;index&quot;</span><span class="p">}},</span>
  <span class="p">{</span><span class="s">&quot;labels_file&quot;</span><span class="p">,</span> <span class="s">&quot;Path to .txt file containing object classes (one per line)&quot;</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">()},</span>
  <span class="p">{</span><span class="s">&quot;layer_name&quot;</span><span class="p">,</span> <span class="s">&quot;Name of output layer to process (in case of multiple output tensors)&quot;</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">()},</span>
  <span class="p">{</span><span class="s">&quot;threshold&quot;</span><span class="p">,</span> <span class="s">&quot;Threshold for confidence values&quot;</span><span class="p">,</span> <span class="n">dflt</span><span class="o">::</span><span class="n">threshold</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">},</span>
<span class="p">};</span>

<span class="c1">// Element description</span>
<span class="n">ElementDesc</span> <span class="n">tensor_postproc_label</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tensor_postproc_label&quot;</span><span class="p">,</span>
  <span class="p">.</span><span class="n">description</span> <span class="o">=</span> <span class="s">&quot;Post-processing of classification inference to extract object classes&quot;</span><span class="p">,</span>
  <span class="p">.</span><span class="n">author</span> <span class="o">=</span> <span class="s">&quot;Intel Corporation&quot;</span><span class="p">,</span>
  <span class="p">.</span><span class="n">params</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">params_desc</span><span class="p">,</span>
  <span class="p">.</span><span class="n">input_info</span> <span class="o">=</span> <span class="p">{</span><span class="n">MediaType</span><span class="o">::</span><span class="n">Tensors</span><span class="p">},</span>
  <span class="p">.</span><span class="n">output_info</span> <span class="o">=</span> <span class="p">{</span><span class="n">MediaType</span><span class="o">::</span><span class="n">Tensors</span><span class="p">},</span>
  <span class="p">.</span><span class="n">create</span> <span class="o">=</span> <span class="n">create_element</span><span class="o">&lt;</span><span class="n">PostProcLabel</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">};</span>
</pre></div>
</div>
</section>
<section id="how-to-create-instance-of-c-element">
<h2>How to create instance of C++ element<a class="headerlink" href="#how-to-create-instance-of-c-element" title="Permalink to this headline">#</a></h2>
<p>Instance of C++ element can be created using functions <code class="docutils literal notranslate"><span class="pre">create_source</span></code>, <code class="docutils literal notranslate"><span class="pre">create_transform</span></code>, <code class="docutils literal notranslate"><span class="pre">create_sink</span></code>.
These functions take pointer to <code class="docutils literal notranslate"><span class="pre">ElementDesc</span></code>, initialization parameters (as <code class="docutils literal notranslate"><span class="pre">std::map</span></code>) and optional context
pointer as <a class="reference external" href="api_ref/namespace_dlstreamer">parameters</a>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">ffmpeg_source</span> <span class="o">=</span> <span class="n">create_source</span><span class="p">(</span><span class="n">ffmpeg_multi_source</span><span class="p">,</span> <span class="p">{{</span><span class="s">&quot;inputs&quot;</span><span class="p">,</span> <span class="n">inputs</span><span class="p">}},</span> <span class="n">ffmpeg_ctx</span><span class="p">);</span>
</pre></div>
</div>
<p>See direct programming samples
<a class="reference external" href="https://github.com/dlstreamer/dlstreamer/tree/master/samples/ffmpeg_openvino">ffmpeg_openvino</a>
and
<a class="reference external" href="https://github.com/dlstreamer/dlstreamer/tree/master/samples/ffmpeg_dpcpp">ffmpeg_dpcpp</a>
for examples.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="cpp_interfaces.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">① Memory Interop and C++ abstract interfaces</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="gstreamer_elements.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">③ GStreamer Elements</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Intel Corporation<br/>
  
      &copy; Copyright 2022, Intel Corporation.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>